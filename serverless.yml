service:
  name: rota

provider:
  name: aws
  runtime: nodejs12.x
  versionFunctions: false
  region: ${opt:region}
  stackTags:
    tenant: platform
    feature: rota
    service: rota
    owner: Mohit K.
  iamRoleStatements:
    - Effect: 'Allow'
      Action:
        - 'logs:*'
        - 'lambda:InvokeFunction'
        - 'dynamodb:*'
        - 'secretsmanager:GetSecretValue'
      Resource: '*'

functions:
  app:
    handler: src/handler/index.rota
    events:
      - schedule: 
        rate: cron(0 8 ? * MON-FRI *)
        input:
          teamName: devops
          stage: test